.. author: Alan Chen

Configuration
=============

After installation, you should have a clean copy of Findmyreviewers shipped with
demo databases and trained models.

The following configurations allow you to use your own databases and models.

Databases and Models
--------------------

There are two kinds of databases used in Findmyreveiwers, both of which are in
sqlite format:

1. :ref:`Web App Database`. It is used to store users, results and other
   miscellaneous informations.
2. :ref:`Paper Databases`. These databases are used for matching reviewers,
   both for keyword-based algorithm and LDA models.

Web App Database
~~~~~~~~~~~~~~~~

In most cases, you should not worry about this, as it has nothing to do with the
model.

This database will be automatically generated upon the first run.

In particular, it will appear as ``data-dev.sqlite`` in the project root
directory.

Keyword-based Databases
^^^^^^^^^^^^^^^^^^^^^^^

To load your own database, you should define the name of the database
and the file name of the database in ``keyword_dbs.env``.

If your ``keyword_dbs.env`` looks like:

::

    Financial Times 50=fintime50
    Association of Information System=aisnet

Then, Findmyreviewers will automatically find ``fintime50.sqlite`` and
``aisnet.sqlite`` under the ``databases`` directory.

LDA Models
~~~~~~~~~~

A working LDA model is composed with the following components:

1. Trained LDA model (``model.ldamodel`` file and its companions, see :ref:`Trained LDA model`) generated
   by ``gensim``.
2. Author profile vector library. (a JSON file ``author_lib.json`` that
   stores the LDA topics vectors of each authors in the database).
3. Corresponding paper and author database. (``db.sqlite``)
4. Predicted paper vector library. (``paper_vec_lib.json``)

A complete LDA model should have all the above files placed in a dedicated folder in ``/models/``.

Trained LDA model
^^^^^^^^^^^^^^^^^

To load your pre-trained LDA models, simply place your model folder in ``/models/``.

For each ``.ldamodel`` file, it should have the following companions:

::

    aisnet_300.ldamodel
    aisnet_300.ldamodel.dictionary
    aisnet_300.ldamodel.state
    aisnet_300.ldamodel.expElogbeta.npy
    aisnet_300.ldamodel.state.sstats.npy
    aisnet_300.ldamodel.id2word

which are automatically generated by ``gensim`` . In addition, you will also need
a corresponding :ref:`Paper Database`.

Author Profile Vector Library
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

You will also need your generated author's profile vector pool
``aisnet_300.ldamodel.json``. This pool of scholars will act as the pool of scholars to be matched from when you feed a new data to the LDA model.

Paper Databases
^^^^^^^^^^^^^^^

The LDA model also relies on a paper database to give details of the
matching results. Findmyreviwers will try to find the database (``db.sqlite``) in your model directory.

For example, the model ``demo`` will correspond to
``models/demo/db.sqlite``.

The database shares exactly the same schema with paper databases that
are used for keyword-based algorithm.

Auth0 For User Authentication
-----------------------------

By default, in the  ``config.py`` the option ``ALLOW_ANON`` is enabled. It will
allow any users to visit the dashboard anonymously, and they all share the same
account. It is intended for development and ad hoc.

However, for production, we highly recommend disabling ``ALLOW_ANON`` and
configure Auth0.

We use Auth0 to be our authentication system. You will need a free
account at Auth0.com and define the followings in ``auth0.env``.

::

    client_id=A9GoeDXxltXAM6**************
    client_secret=Luy237Lj2iR-PKXQNNEDhPxZWECKn13ii-*******************
    base_uri=http://127.0.0.1:5000
